{% extends 'base_layout.html' %}

{% block content %}
<div class="create-article">
<h2>    Create an awesome article    </h2>

<form class="site-form" action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form }}
    <input type="submit" value="Create">
</form>
<script >
const titleInput=document.querySelector('input[name=title]')
const slugInput=document.querySelector('input[name=slug]')

const slugify = [val] => {
    return val.toString().toLowerCase().trim()
    .replace(/&/g,'-and-')
    .replace(/[\s\W-]+/g,'-')
};
titleInput.addEventListener('keyup',(e)=>{
slugInput.value=slugify[titleInput.value];
});</script>
</div>
{% endblock %}
